/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//lyr 12/08/20
#ifndef _cysys_cynet_snap_
#define _cysys_cynet_snap_
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#include <string>
#include <map>
#include "NetCamera_SnapServer.h"
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#ifndef _WIN32
#ifndef _cynet_linux_def_
#define _cynet_linux_def_
#define __declspec(dllexport)
typedef int BOOL;
#define TRUE 1
#define FALSE 0
//#define NULL 0 
#endif
#else
#ifdef _DEBUG
#pragma comment(lib,"NetCamera_SnapServer.lib")
#else
#pragma comment(lib,"NetCamera_SnapServer.lib")
#endif
#endif
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
namespace cy_sys
{
	namespace cynet_snap
	{
		class __declspec(dllexport) app
		{
			NetCamera_SnapServer m_SS; //抓拍服务器
		public:
			app(){}
			~app(){}
			NetCamera_SnapServer* getSnapServer(void){return &m_SS;}
			
			static app* getApp(void)
			{
				static app _app;
				return &_app;
			}
		};
	}
}
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
extern "C"
{
	//NetCamera_SnapServer
	/*
	* @brief 调用NetCamera_SnapServer类函数StartRecv 参考文档2.2.3
	*/
	__declspec(dllexport) int CYNET_NetCamera_SnapServer_StartRecv(unsigned short port=9999);

	/*
	* @brief 调用NetCamera_SnapServer类函数GetImage 参考文档2.2.3
	*/
	__declspec(dllexport) int CYNET_NetCamera_SnapServer_GetImage(unsigned char* buf);
};
#endif

